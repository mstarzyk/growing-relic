#!/usr/bin/env bash

usage() {
    cat <<HEREDOC
Usage:
    bin/${0##*/} CONTAINER_ID
HEREDOC
}

[[ -z "${1}" ]] && { usage; exit 1; }

DOCKER="${1}"

files=(
    "etc/s6-overlay/s6-rc.d/nginx"
    "etc/s6-overlay/s6-rc.d/nginx/run"
    "etc/s6-overlay/s6-rc.d/nginx/type"
    "etc/s6-overlay/s6-rc.d/user/contents.d/nginx"
    "root/01-make-app.sh"
    "root/05-run-puma.sh"
    "root/s6init"
)

for f in "${files[@]}"; do
    docker cp "${f}" "${DOCKER}:/${f}"
done
